import{r as t,j as e,N as m}from"./index-c38fd625.js";import{a as h,C as x}from"./config-b8c43400.js";/* empty css                    */const g=()=>{const[a,i]=t.useState("orders"),[n,d]=t.useState([]),[p,o]=t.useState(!0),l=JSON.parse(localStorage.getItem("user")||"{}");t.useEffect(()=>{(async()=>{if(l.id)try{const r=await h.get(`${x.API_URL}/orders/user/${l.id}`);d(r.data)}catch(r){console.error("Error fetching user orders:",r)}finally{o(!1)}})()},[l.id]);const c={bust:34,waist:28,shoulder:14,armhole:16,length:14};return e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx("div",{className:"page-container dashboard-page",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{children:"My Account"}),e.jsx("p",{children:"Welcome back, Lavanya!"})]}),e.jsxs("div",{className:"dashboard-tabs",children:[e.jsx("button",{className:`tab-btn ${a==="orders"?"active":""}`,onClick:()=>i("orders"),children:"My Orders"}),e.jsx("button",{className:`tab-btn ${a==="measurements"?"active":""}`,onClick:()=>i("measurements"),children:"Saved Measurements"}),e.jsx("button",{className:`tab-btn ${a==="profile"?"active":""}`,onClick:()=>i("profile"),children:"Profile & Address"})]}),e.jsxs("div",{className:"dashboard-content",children:[a==="orders"&&e.jsxs("div",{className:"orders-list",children:[n.map(s=>e.jsxs("div",{className:"order-card",style:{display:"flex",gap:"20px",padding:"20px"},children:[e.jsx("div",{className:"order-img-thumb",style:{width:"80px",height:"100px",flexShrink:0},children:e.jsx("img",{src:s.design_image||"https://images.unsplash.com/photo-1583316174775-bd6dc0e9f298?w=200",alt:"Ordered Design",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"4px"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{className:"order-header",children:[e.jsxs("span",{className:"order-id",children:["#",s.id.split("-")[0]]}),e.jsx("span",{className:`status-badge ${s.status.toLowerCase()}`,children:s.status})]}),e.jsxs("div",{className:"order-body",style:{marginTop:"10px"},children:[e.jsxs("p",{className:"order-date",style:{fontSize:"0.9rem",color:"#666"},children:["Placed on ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("p",{className:"order-total",style:{fontWeight:"600"},children:["Total Amount: ₹",s.total_amount]})]}),e.jsxs("div",{className:"order-actions",style:{marginTop:"15px"},children:[e.jsx("button",{className:"btn btn-primary compact btn-sm",children:"Reorder"}),e.jsx("button",{className:"btn btn-outline btn-sm",style:{marginLeft:"10px"},children:"Track Order"})]}),(s.status==="Stitching"||s.status==="Quality Check")&&e.jsxs("div",{className:"order-live-progress",style:{marginTop:"20px",padding:"15px",background:"#F9F9F9",borderRadius:"8px",border:"1px solid #eee"},children:[e.jsxs("h5",{style:{fontSize:"0.85rem",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{color:"#27AE60"},children:"●"})," Live from Studio (Tailor Update)"]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1556905055-8f358a7a47b2?w=200",alt:"Stitching Progress",style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"4px",cursor:"pointer",border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"#666"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Master Ji:"}),' "Stitching the front panels now. Will start the embroidery by evening."']}),e.jsx("span",{style:{fontSize:"0.7rem",color:"#999"},children:"Today, 2:45 PM"})]})]})]})]})]},s.id)),n.length===0&&e.jsx("p",{style:{textAlign:"center",color:"#999",padding:"40px"},children:"You haven't placed any orders yet."})]}),a==="measurements"&&e.jsxs("div",{className:"measurements-card",children:[e.jsx("h3",{children:"My Saved Profile"}),e.jsxs("p",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"20px"},children:["These measurements are automatically applied to your new designs for a ",e.jsx("b",{children:"Perfect Fit."})]}),e.jsx("div",{className:"measurements-grid",children:Object.entries(c).map(([s,r])=>e.jsxs("div",{className:"measure-box",children:[e.jsxs("span",{className:"m-val",children:[r,'"']}),e.jsx("span",{className:"m-label",children:s})]},s))}),e.jsx("button",{className:"btn btn-outline btn-sm",style:{marginTop:"20px"},children:"Edit Fit Profile"})]}),a==="profile"&&e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{type:"text",value:"Lavanya",disabled:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",value:"lavanya@example.com",disabled:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Saved Address"}),e.jsx("textarea",{className:"form-input",rows:"3",defaultValue:"123, Fashion Street, Indiranagar, Bangalore - 560038"})]}),e.jsx("button",{className:"btn btn-primary btn-sm",children:"Save Changes"})]})]})]})})]})};export{g as default};
